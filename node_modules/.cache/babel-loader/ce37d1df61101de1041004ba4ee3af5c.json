{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/Main-WFM/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"C:/Users/HP/Desktop/Main-WFM/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"C:/Users/HP/Desktop/Main-WFM/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Users/HP/Desktop/Main-WFM/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/HP/Desktop/Main-WFM/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/HP/Desktop/Main-WFM/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/HP/Desktop/Main-WFM/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import items from\"./data\";//This is context for all the consumers\nimport{jsx as _jsx}from\"react/jsx-runtime\";var RoomContext=/*#__PURE__*/React.createContext();var RoomProvider=/*#__PURE__*/function(_Component){_inherits(RoomProvider,_Component);var _super=_createSuper(RoomProvider);function RoomProvider(){var _this;_classCallCheck(this,RoomProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={rooms:[],sortedRooms:[],featuredRooms:[],bookedRooms:[],loading:true,type:'all',capacity:1,slug:'single-economy',price:0,minPrice:0,maxPrice:0,bookId:0,place:\"Shimla\"// breakfast:false,\n// pets:false\n};_this.getRoom=function(slug){var tempRooms=_toConsumableArray(_this.state.rooms);var room=tempRooms.find(function(room){return room.slug===slug;});return room;};_this.handleChange=function(event){var target=event.target;var value=event.type==='checkbox'?target.checked:target.value;var name=event.target.name;_this.setState(_defineProperty({},name,value),_this.filterRooms);//   console.log(type,name,value);\n};_this.handleClick=function(event){//   const value =event.type.target.value    \n//   const name = event.target.name\n// console.log(slug);\n_this.setState({slug:'BookYourRoom'},_this.bookedRooms);};_this.filterRooms=function(){//   \nvar _this$state=_this.state,rooms=_this$state.rooms,type=_this$state.type,capacity=_this$state.capacity,price=_this$state.price,place=_this$state.place;//All the rooms\nvar tempRooms=_toConsumableArray(rooms);//Transfor values as the number in capacity get changed to string\ncapacity=parseInt(capacity);//Transfor values as the number in price get changed to string\nprice=parseInt(price);//filter by Type\nif(type!=='all'){tempRooms=tempRooms.filter(function(room){return room.type===type;});}//filter by Capacity\nif(capacity!==1){tempRooms=tempRooms.filter(function(room){return room.capacity>=capacity;});}//filter by Place\nif(place!=='None'){tempRooms=tempRooms.filter(function(room){return room.place===place;});}//filter by Price\ntempRooms=tempRooms.filter(function(room){return room.price<=price;});_this.setState({sortedRooms:tempRooms});};_this.bookedRooms=function(){var rooms=_this.state.rooms;var tempRooms=_toConsumableArray(rooms);// tempRooms = tempRooms.filter(room =>room.name ===name)  \n// console.log(\"Hello\");\n_this.setState({bookedRooms:tempRooms});};return _this;}_createClass(RoomProvider,[{key:\"componentDidMount\",value://getData\nfunction componentDidMount(){var rooms=this.formatData(items);// console.log(rooms);\n//This will bring all the featured rooms\nvar featuredRooms=rooms.filter(function(room){return room.featured===true;});//Calculating the Max Price from all the rooms\nvar maxPrice=Math.max.apply(Math,_toConsumableArray(rooms.map(function(item){return item.price;})));//Calculate random booking-Id\nvar min=1;var max=100;var bookId=Math.floor(min+Math.random()*(max-min));//states updated\nthis.setState({rooms:rooms,featuredRooms:featuredRooms,sortedRooms:rooms,loading:false,price:maxPrice,slug:'None',maxPrice:maxPrice,bookId:bookId,bookedRooms:rooms// place,\n//   maxSize\n});}},{key:\"formatData\",value:function formatData(items){var tempItems=items.map(function(item){var id=item.sys.id;var images=item.fields.images.map(function(image){return image.fields.file.url;});var room=_objectSpread(_objectSpread({},item.fields),{},{images:images,id:id});return room;});return tempItems;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(RoomContext.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{getRoom:this.getRoom,handleChange:this.handleChange,handleClick:this.handleClick}),children:this.props.children});}}]);return RoomProvider;}(Component);var RoomConsumer=RoomContext.Consumer;//Higher Order Component\nexport function withRoomConsumer(Component){return function ConsumerWrapper(props){return/*#__PURE__*/_jsx(RoomConsumer,{children:function children(value){return/*#__PURE__*/_jsx(Component,_objectSpread(_objectSpread({},props),{},{context:value}));}});};}export{RoomProvider,RoomConsumer,RoomContext};","map":{"version":3,"sources":["C:/Users/HP/Desktop/Main-WFM/frontend/src/context.js"],"names":["React","Component","items","RoomContext","createContext","RoomProvider","state","rooms","sortedRooms","featuredRooms","bookedRooms","loading","type","capacity","slug","price","minPrice","maxPrice","bookId","place","getRoom","tempRooms","room","find","handleChange","event","target","value","checked","name","setState","filterRooms","handleClick","parseInt","filter","formatData","featured","Math","max","map","item","min","floor","random","tempItems","id","sys","images","fields","image","file","url","props","children","RoomConsumer","Consumer","withRoomConsumer","ConsumerWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport items from \"./data\";\r\n\r\n\r\n//This is context for all the consumers\r\nconst RoomContext = React.createContext();\r\n\r\nclass RoomProvider extends Component {  \r\n  \r\n  state = {\r\n    rooms: [],\r\n    sortedRooms: [],\r\n    featuredRooms: [],\r\n    bookedRooms:[],\r\n    loading: true,\r\n    type:'all',\r\n    capacity:1,\r\n    slug:'single-economy',\r\n    price:0,\r\n    minPrice:0,\r\n    maxPrice:0,\r\n    bookId:0,\r\n    place:\"Shimla\",\r\n    // breakfast:false,\r\n    // pets:false\r\n  };\r\n\r\n\r\n  \r\n  //getData\r\n\r\n  componentDidMount() {\r\n    let rooms = this.formatData(items);\r\n    // console.log(rooms);\r\n    //This will bring all the featured rooms\r\n    let featuredRooms = rooms.filter(room => room.featured === true);\r\n\r\n    //Calculating the Max Price from all the rooms\r\n    let maxPrice = Math.max(...rooms.map(item =>item.price))\r\n\r\n    //Calculate random booking-Id\r\n    const min = 1;\r\n    const max = 100;\r\n    const bookId = Math.floor(min + (Math.random() * (max - min)));\r\n\r\n\r\n    \r\n    //states updated\r\n    this.setState({\r\n      rooms,\r\n      featuredRooms,\r\n      sortedRooms: rooms,      \r\n      loading: false,\r\n      price:maxPrice,\r\n      slug:'None',\r\n      maxPrice,\r\n      bookId:bookId,\r\n      bookedRooms:rooms,\r\n      // place,\r\n    //   maxSize\r\n    });\r\n  }\r\n\r\n  formatData(items) {\r\n    let tempItems = items.map((item) => {\r\n      let id = item.sys.id;\r\n      let images = item.fields.images.map((image) => image.fields.file.url);\r\n      let room = { ...item.fields, images, id };\r\n      return room;\r\n    });\r\n    return tempItems;\r\n  }\r\n\r\n  getRoom = (slug) => {\r\n      let tempRooms = [...this.state.rooms];\r\n      const room = tempRooms.find(room => room.slug === slug)\r\n      return room;\r\n  }\r\n\r\n\r\n  handleChange= event =>{\r\n      const target = event.target\r\n      const value  = event.type ==='checkbox'? target.checked : target.value\r\n      const name=event.target.name\r\n      this.setState({\r\n          [name]:value\r\n      },this.filterRooms)\r\n     \r\n    //   console.log(type,name,value);\r\n  }\r\n\r\n  handleClick=(event)=>{\r\n  //   const value =event.type.target.value    \r\n  //   const name = event.target.name\r\n    // console.log(slug);\r\n    this.setState({\r\n      slug:'BookYourRoom'\r\n    },this.bookedRooms)    \r\n  }\r\n\r\n\r\n\r\n  filterRooms = () =>{\r\n    //   \r\n    let {rooms,type,capacity,price,place} = this.state;\r\n\r\n    //All the rooms\r\n    let tempRooms =[...rooms];\r\n\r\n    //Transfor values as the number in capacity get changed to string\r\n    capacity=parseInt(capacity)\r\n\r\n\r\n    //Transfor values as the number in price get changed to string\r\n    price=parseInt(price)\r\n\r\n\r\n    //filter by Type\r\n    if(type !== 'all'){\r\n        tempRooms = tempRooms.filter(room => room.type === type)\r\n    }\r\n\r\n    //filter by Capacity\r\n    if(capacity !== 1){\r\n        tempRooms = tempRooms.filter(room =>room.capacity >=capacity)\r\n    }\r\n\r\n    //filter by Place\r\n    if(place !== 'None'){\r\n        tempRooms = tempRooms.filter(room => room.place === place)\r\n    }\r\n\r\n    //filter by Price\r\n    \r\n        tempRooms = tempRooms.filter(room =>room.price <=price)\r\n    \r\n\r\n    this.setState({\r\n        sortedRooms:tempRooms\r\n    })\r\n\r\n  }\r\n\r\n  bookedRooms=()=>{\r\n    let {rooms} = this.state;\r\n    let tempRooms =[...rooms];  \r\n    // tempRooms = tempRooms.filter(room =>room.name ===name)  \r\n    // console.log(\"Hello\");\r\n    this.setState({\r\n      bookedRooms:tempRooms\r\n  })\r\n  }\r\n\r\n \r\n\r\n  render() {\r\n    return (\r\n      <RoomContext.Provider value={{ ...this.state,getRoom:this.getRoom,handleChange:this.handleChange,handleClick:this.handleClick}}>\r\n        {this.props.children}\r\n      </RoomContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst RoomConsumer = RoomContext.Consumer;\r\n\r\n//Higher Order Component\r\nexport function withRoomConsumer(Component){\r\n    return function ConsumerWrapper(props){\r\n        return <RoomConsumer>\r\n            {value => <Component {...props} context={value}/>}\r\n        </RoomConsumer>\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport { RoomProvider, RoomConsumer, RoomContext };\r\n"]},"metadata":{},"sourceType":"module"}