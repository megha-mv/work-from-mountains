{"ast":null,"code":"import{userConstants}from'../constants/userconstants';import{userService}from'../services/userservices';import{alertActions}from'./alertactions';import{history}from'../helpers/history';export var userActions={login:login,logout:logout,register:register,getAll:getAll,delete:_delete};function login(username,password){return function(dispatch){dispatch(request({username:username}));userService.login(username,password).then(function(user){dispatch(success(user));history.push('/');},function(error){dispatch(failure(error));dispatch(alertActions.error(error));});};function request(user){return{type:userConstants.LOGIN_REQUEST,user:user};}function success(user){return{type:userConstants.LOGIN_SUCCESS,user:user};}function failure(error){return{type:userConstants.LOGIN_FAILURE,error:error};}}function logout(){userService.logout();return{type:userConstants.LOGOUT};}function register(user){return function(dispatch){dispatch(request(user));userService.register(user).then(function(user){dispatch(success());history.push('/login');dispatch(alertActions.success('Registration successful'));},function(error){dispatch(failure(error));dispatch(alertActions.error(error));});};function request(user){return{type:userConstants.REGISTER_REQUEST,user:user};}function success(user){return{type:userConstants.REGISTER_SUCCESS,user:user};}function failure(error){return{type:userConstants.REGISTER_FAILURE,error:error};}}function getAll(){return function(dispatch){dispatch(request());userService.getAll().then(function(users){return dispatch(success(users));},function(error){return dispatch(failure(error));});};function request(){return{type:userConstants.GETALL_REQUEST};}function success(users){return{type:userConstants.GETALL_SUCCESS,users:users};}function failure(error){return{type:userConstants.GETALL_FAILURE,error:error};}}// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id){return function(dispatch){dispatch(request(id));userService.delete(id).then(function(user){dispatch(success(id));},function(error){dispatch(failure(id,error));});};function request(id){return{type:userConstants.DELETE_REQUEST,id:id};}function success(id){return{type:userConstants.DELETE_SUCCESS,id:id};}function failure(id,error){return{type:userConstants.DELETE_FAILURE,id:id,error:error};}}","map":{"version":3,"sources":["C:/Users/HP/Desktop/Main-WFM/frontend/src/actions/useractions.js"],"names":["userConstants","userService","alertActions","history","userActions","login","logout","register","getAll","delete","_delete","username","password","dispatch","request","then","user","success","push","error","failure","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","users","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","id","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE"],"mappings":"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","sourcesContent":["import { userConstants } from '../constants/userconstants';\r\nimport { userService } from '../services/userservices';\r\nimport { alertActions } from './alertactions';\r\nimport { history } from '../helpers/history';\r\n\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    delete: _delete\r\n};\r\n\r\nfunction login(username, password) {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n\r\n        userService.login(username, password)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(user));\r\n                    history.push('/');\r\n                },\r\n                error => {\r\n                    dispatch(failure(error));\r\n                    dispatch(alertActions.error(error));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\nfunction logout() {\r\n    userService.logout();\r\n    return { type: userConstants.LOGOUT };\r\n}\r\n\r\nfunction register(user) {\r\n    return dispatch => {\r\n        dispatch(request(user));\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => { \r\n                    dispatch(success());\r\n                    history.push('/login');\r\n                    dispatch(alertActions.success('Registration successful'));\r\n                },\r\n                error => {\r\n                    dispatch(failure(error));\r\n                    dispatch(alertActions.error(error));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n\r\nfunction getAll() {\r\n    return dispatch => {\r\n        dispatch(request());\r\n\r\n        userService.getAll()\r\n            .then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error))\r\n            );\r\n    };\r\n\r\n    function request() { return { type: userConstants.GETALL_REQUEST } }\r\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\n// prefixed function name with underscore because delete is a reserved word in javascript\r\nfunction _delete(id) {\r\n    return dispatch => {\r\n        dispatch(request(id));\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(id));\r\n                },\r\n                error => {\r\n                    dispatch(failure(id, error));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\r\n    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\r\n    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\r\n}"]},"metadata":{},"sourceType":"module"}